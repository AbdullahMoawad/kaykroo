{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/moawad/workspace/kaykroo/frontend/components/login.tsx\";\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport { axiosInstance } from '../util/axios';\nimport { useRouter } from 'next/router';\nimport * as Yup from \"yup\";\nexport default function Login(props) {\n  const router = useRouter();\n  const formSchema = Yup.object().shape({\n    username: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Required'),\n    password: Yup.string().min(5, 'Too Short!').max(50, 'Too Long!').required('Required')\n  });\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    },\n    validationSchema: formSchema,\n    onSubmit: values => {\n      axiosInstance.put(`/user/login/`, values).then(response => {\n        router.push(`/`);\n      }).catch(e => {\n        var _e$response$data$erro;\n\n        const errors = (_e$response$data$erro = e.response.data.errors) !== null && _e$response$data$erro !== void 0 ? _e$response$data$erro : [];\n        errors.forEach(field => {\n          formik.setFieldError(field.param, field.msg);\n        });\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Username\",\n        name: \"username\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        value: formik.values.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), formik.errors.username && formik.touched.username && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'error',\n        children: formik.errors.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group row\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: 'col-3',\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'col-9',\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          className: \"form-control\",\n          placeholder: \"Username\",\n          name: \"username\",\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur,\n          value: formik.values.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), formik.errors.username && formik.touched.username && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'error',\n          children: formik.errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        name: \"password\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        value: formik.values.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), formik.errors.password && formik.touched.password && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'error',\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-control custom-checkbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"custom-control-input\",\n          id: \"customCheck1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"custom-control-label\",\n          htmlFor: \"customCheck1\",\n          children: \"Remember me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-dark btn-lg btn-block\",\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 12\n  }, this);\n}","map":{"version":3,"sources":["/Users/moawad/workspace/kaykroo/frontend/components/login.tsx"],"names":["React","useFormik","axiosInstance","useRouter","Yup","Login","props","router","formSchema","object","shape","username","string","min","max","required","password","formik","initialValues","validationSchema","onSubmit","values","put","then","response","push","catch","e","errors","data","forEach","field","setFieldError","param","msg","handleSubmit","handleChange","handleBlur","touched"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useFormik} from 'formik';\nimport {axiosInstance} from '../util/axios';\nimport {useRouter} from 'next/router';\nimport * as Yup from \"yup\";\n\nexport default function Login(props) {\n    const router = useRouter();\n\n    const formSchema = Yup.object().shape({\n        username: Yup.string()\n            .min(2, 'Too Short!')\n            .max(50, 'Too Long!')\n            .required('Required'),\n        password: Yup.string()\n            .min(5, 'Too Short!')\n            .max(50, 'Too Long!')\n            .required('Required')\n    });\n\n    const formik = useFormik({\n        initialValues: {\n            username: '',\n            password: ''\n        },\n        validationSchema: formSchema,\n        onSubmit: (values) => {\n            axiosInstance.put(`/user/login/`, values).then(response => {\n                router.push(`/`);\n            }).catch(e => {\n                const errors = e.response.data.errors ?? [];\n                errors.forEach(field => {\n                    formik.setFieldError(field.param, field.msg);\n\n                });\n            });\n        }\n    });\n\n\n    return <form onSubmit={formik.handleSubmit}>\n\n        <div className='form-group'>\n            <label>Username</label>\n            <input type='text'\n                   className='form-control' placeholder='Username'\n                   name='username'\n                   onChange={formik.handleChange}\n                   onBlur={formik.handleBlur}\n                   value={formik.values.username}\n            />\n            {formik.errors.username && formik.touched.username &&\n            <div className={'error'}>{formik.errors.username}</div>}\n        </div>\n        <div className='form-group row'>\n            <label className={'col-3'}>Username</label>\n            <div className={'col-9'}>\n                <input type='username'\n                       className='form-control' placeholder='Username'\n                       name='username'\n                       onChange={formik.handleChange}\n                       onBlur={formik.handleBlur}\n                       value={formik.values.username}\n                />\n                {formik.errors.username && formik.touched.username &&\n                <div className={'error'}>{formik.errors.username}</div>}\n            </div>\n        </div>\n\n        <div className='form-group'>\n            <label>Password</label>\n            <input\n                type='password'\n                className='form-control' placeholder='Password'\n                name='password'\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.password}\n            />\n            {formik.errors.password && formik.touched.password &&\n            <div className={'error'}>{formik.errors.password}</div>}\n        </div>\n\n        <div className='form-group'>\n            <div className='custom-control custom-checkbox'>\n                <input type='checkbox' className='custom-control-input' id='customCheck1'/>\n                <label className='custom-control-label' htmlFor='customCheck1'>Remember me</label>\n            </div>\n        </div>\n\n        <button type='submit' className='btn btn-dark btn-lg btn-block'>Sign in</button>\n\n    </form>;\n}\n"]},"metadata":{},"sourceType":"module"}